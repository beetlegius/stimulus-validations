<%= form_with(model: product, local: true, data: { controller: 'validate', target: 'validate.form' }) do |form| %>
  <div class="form-group">
    <%= form.label :name %>
    <%= form.text_field :name, autofocus: true, class: 'form-control',
                                                data: {
                                                  target: 'validate.input',
                                                  validate: {
                                                    presence: { message: '^Name is required' }
                                                  }
                                                } %>
  </div>

  <div class="form-group">
    <%= form.label :price %>
    <%= form.number_field :price, class: 'form-control', data: { target: 'validate.input',
                                                                 validate: {
                                                                   presence: { message: '^Price is required' },
                                                                   numericality: {
                                                                     greaterThan: 0,
                                                                     message: '^Price should be greater than 0'
                                                                   }
                                                                 } } %>
  </div>

  <div class="form-group">
    <%= form.label :quantity %>
    <%= form.number_field :quantity, class: 'form-control', data: { target: 'validate.input',
                                                                    validate: {
                                                                      presence: { message: '^Quantity is required' },
                                                                      numericality: {
                                                                        greaterThan: 0,
                                                                        lessThan: 100,
                                                                        onlyInteger: true,
                                                                        message: '^Quantity should be an integer between 0 and 100'
                                                                      }
                                                                    } } %>
  </div>

  <div class="actions">
    <%= form.submit class: 'btn btn-success', data: { action: 'validate#onSubmit' } %>
  </div>
<% end %>
